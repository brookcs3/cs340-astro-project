---
// CS340 Project Step 3 - Group 101
// Cameron Brooks & Brayden Plumb
// Northern Oregon Speedrunners Association Database
// Index page: Landing page linking to all entity UI pages

import Layout from '../layouts/Layout.astro';
---

<Layout title="Home">
  <h1 class="page-title">Northern Oregon Speedrunners Association</h1>

  <p class="intro">
    Welcome to the Northern Oregon Speedrunners Association database management system.
    This application tracks speedrun submissions, players, games, categories, and platforms.
    Use the pages below to browse and manage all data.
  </p>

  <div class="page-grid">
    <a href="/players" class="page-card">
      <h2>Players</h2>
      <p>Browse, add, update, and delete speedrunner profiles. View display names and countries of origin for all registered players.</p>
      <span class="card-link">Manage Players &rarr;</span>
    </a>

    <a href="/games" class="page-card">
      <h2>Games</h2>
      <p>Browse, add, update, and delete video games available for speedrunning. View game titles, release years, and developers.</p>
      <span class="card-link">Manage Games &rarr;</span>
    </a>

    <a href="/platforms" class="page-card">
      <h2>Platforms</h2>
      <p>Browse, add, update, and delete gaming platforms (hardware/environments). Track all platforms that games can be played on.</p>
      <span class="card-link">Manage Platforms &rarr;</span>
    </a>

    <a href="/run-categories" class="page-card">
      <h2>Run Categories</h2>
      <p>Browse, add, update, and delete speedrun category types for each game. Each category defines a ruleset for how a game can be speedrun.</p>
      <span class="card-link">Manage Run Categories &rarr;</span>
    </a>

    <a href="/run-submissions" class="page-card">
      <h2>Run Submissions</h2>
      <p>Browse, add, update, and delete speedrun submissions. Each submission records a player's run time, game, platform, category, and verification status.</p>
      <span class="card-link">Manage Run Submissions &rarr;</span>
    </a>

    <a href="/games-on-platforms" class="page-card">
      <h2>Games on Platforms</h2>
      <p>Browse, add, and remove game-platform associations. This M:N intersection table tracks which games are available on which platforms.</p>
      <span class="card-link">Manage Associations &rarr;</span>
    </a>
  </div>

  <div class="section-card">
    <h2>Database Overview</h2>
    <p>This database consists of 6 tables:</p>
    <ul>
      <li><strong>Players</strong> &mdash; Speedrunner participants (1:M with RunSubmissions)</li>
      <li><strong>Games</strong> &mdash; Video games available for speedrunning (1:M with RunCategories, RunSubmissions; M:N with Platforms)</li>
      <li><strong>Platforms</strong> &mdash; Hardware/environments for playing games (M:N with Games)</li>
      <li><strong>RunCategories</strong> &mdash; Speedrun types per game with rulesets (1:M with RunSubmissions)</li>
      <li><strong>RunSubmissions</strong> &mdash; Individual speedrun attempt records linking Players, Games, Platforms, and RunCategories</li>
      <li><strong>GamesOnPlatforms</strong> &mdash; Intersection table for Games-Platforms M:N relationship</li>
    </ul>
  </div>
</Layout>

<style>
  .intro {
    font-size: 1.05rem;
    line-height: 1.6;
    color: #374151;
    margin-bottom: 2rem;
    max-width: 800px;
  }

  .page-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 1.25rem;
    margin-bottom: 2rem;
  }

  .page-card {
    background: #fff;
    border-radius: 6px;
    padding: 1.5rem;
    text-decoration: none;
    color: inherit;
    box-shadow: 0 1px 3px rgba(0,0,0,0.08);
    border-left: 4px solid #3b82f6;
    transition: box-shadow 0.15s, transform 0.15s;
    display: flex;
    flex-direction: column;
  }

  .page-card:hover {
    box-shadow: 0 4px 12px rgba(0,0,0,0.12);
    transform: translateY(-2px);
  }

  .page-card h2 {
    font-size: 1.15rem;
    margin-bottom: 0.5rem;
    color: #1e293b;
  }

  .page-card p {
    font-size: 0.9rem;
    color: #6b7280;
    line-height: 1.5;
    flex: 1;
  }

  .card-link {
    font-size: 0.85rem;
    font-weight: 600;
    color: #3b82f6;
    margin-top: 0.75rem;
  }

  .section-card ul {
    margin: 0.5rem 0 0 1.5rem;
    line-height: 1.8;
  }

  .section-card li {
    font-size: 0.9rem;
  }

  .section-card p {
    font-size: 0.9rem;
    color: #374151;
  }
</style>
